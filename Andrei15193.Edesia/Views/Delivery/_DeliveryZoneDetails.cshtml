@using Andrei15193.Edesia.Models;
@using Andrei15193.Edesia.Resources;
@model Andrei15193.Edesia.ViewModels.Delivery.DeliveryZoneViewModel
@using (Html.BeginForm())
{
	@Html.HiddenFor(model => model.DeliveryZoneOldName)
	@Html.LabelFor(model => model.DeliveryZoneName)
	if (ViewData.ModelState.ContainsKey("DeliveryZoneName"))
	{
		@Html.Partial("_ModelErrorNotice", ViewData.ModelState["DeliveryZoneName"])
	}
	<div class="input-control text">
		@Html.EditorFor(model => model.DeliveryZoneName)
	</div>
	@Html.LabelFor(model => model.DeliveryZoneColour)
	if (ViewData.ModelState.ContainsKey("DeliveryZoneColour"))
	{
		@Html.Partial("_ModelErrorNotice", ViewData.ModelState["DeliveryZoneColour"])
	}
	<div class="input-control select">
		<select name="DeliveryZoneColour">
			@foreach (KeyValuePair<string, Colour> colour in Model.AvailableColours)
			{
				if (string.Equals(Model.DeliveryZoneColour, colour.Value.ToString(), StringComparison.OrdinalIgnoreCase))
				{
					<option selected="selected" style="color: @colour.Value.ToString();" value="@colour.Value.ToString()">@colour.Key</option>
				}
				else
				{
					<option style="color: @colour.Value.ToString();" value="@colour.Value.ToString()">@colour.Key</option>
				}
			}
		</select>
	</div>
	if (Model.AvailableAddresses.Any())
	{
		@Html.LabelFor(model => model.AvailableAddresses)
		<div class="padding5" style="margin-bottom: 20px; border: 1px solid lightgray; max-height: 300px; overflow: auto;">
			@foreach (KeyValuePair<string, bool> availableAddresses in Model.AvailableAddresses)
			{
				<div class="input-control checkbox" style="display: block;">
					<label>
						@if (availableAddresses.Value)
						{
							<input type="checkbox" checked="checked" name="checkbox @availableAddresses.Key" />
						}
						else
						{
							<input type="checkbox" name="checkbox @availableAddresses.Key" />
						}
						<span class="check"></span>
						@availableAddresses.Key
					</label>
				</div>
			}
		</div>
	}
	<input type="submit" class="action" value="@Model.SubmitButtonText" />
	<a class="button cancelAction" href="@Url.Action("ManageDeliveryZones", "Delivery")">@DeliveryZoneDetailsViewStrings.CancelButton_DisplayName</a>
}
<p class="text-justify"><i class="icon-info-2 fg-emerald"></i> <small>@DeliveryZoneDetailsViewStrings.DeliveryZoneColourComboBox_Hint</small></p>